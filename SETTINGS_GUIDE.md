# 设置功能使用指南

## 🎯 新增的设置功能

您的材料计算任务系统现在支持完整的设置功能，包括自定义存储位置和数据管理。

## ⚙️ 如何访问设置

1. **点击设置按钮** - 在页面右上角有一个齿轮图标 ⚙️
2. **设置菜单打开** - 会弹出一个设置对话框

## 📦 存储类型设置

系统现在支持三种数据存储方式：

### 1. **LocalStorage (推荐)**
- ✅ **永久保存** - 数据永久保存在浏览器中
- ✅ **跨会话持久** - 关闭浏览器后重新打开数据仍然存在
- ✅ **默认选择** - 系统推荐的存储方式

### 2. **SessionStorage**
- ⚠️ **会话级别** - 数据仅在当前浏览器会话中保存
- ⚠️ **临时存储** - 关闭标签页后数据会被清除
- ✅ **隐私友好** - 适合临时工作或隐私敏感环境

### 3. **内存存储**
- ⚠️ **最临时** - 数据仅在页面刷新前保存
- ⚠️ **易丢失** - 刷新页面后数据清除
- ✅ **完全私密** - 不在浏览器中留下任何痕迹

## 🔄 自动备份功能

- **自动备份开关** - 可以开启或关闭自动备份
- **备份位置** - 始终备份到LocalStorage
- **智能备份** - 即使使用其他存储方式，也会在LocalStorage中保留备份

## 📂 数据管理功能

### 导出数据 📤
- **功能** - 将所有任务数据导出为JSON文件
- **文件名** - `material-calculation-jobs-YYYY-MM-DD.json`
- **用途** - 备份、迁移、分享数据

### 导入数据 📥
- **功能** - 从JSON文件导入任务数据
- **格式** - 支持系统导出的JSON格式
- **安全** - 导入前会进行数据验证
- **确认** - 会提示确认是否替换当前数据

### 恢复备份 🔄
- **功能** - 从自动备份中恢复数据
- **来源** - LocalStorage中的备份数据
- **场景** - 当主数据丢失或损坏时使用

### 清除数据 🗑️
- **功能** - 完全清除所有任务数据
- **范围** - 清除所有存储类型中的数据
- **安全** - 需要确认才能执行
- **不可逆** - 操作无法撤销

## 🔧 高级设置

点击"高级设置"可以查看：
- 当前存储类型
- 当前任务数量
- 自动备份状态
- 存储键名信息

## 🚀 使用场景建议

### 日常工作 (推荐LocalStorage)
```
LocalStorage + 自动备份开启
✅ 数据安全持久
✅ 自动备份保护
✅ 最佳使用体验
```

### 临时使用 (SessionStorage)
```
SessionStorage + 自动备份开启
✅ 会话结束自动清理
✅ 仍有备份保护
✅ 隐私友好
```

### 演示/测试 (内存存储)
```
内存存储 + 自动备份关闭
✅ 完全临时
✅ 不留痕迹
✅ 适合演示
```

## 📋 操作步骤

### 更改存储类型
1. 点击右上角设置按钮 ⚙️
2. 在"数据存储设置"中选择新的存储类型
3. 系统会自动迁移现有数据
4. 点击"完成"保存设置

### 备份数据
1. 打开设置菜单
2. 点击"导出数据"按钮
3. 选择保存位置
4. 下载完成

### 恢复数据
1. 打开设置菜单
2. 点击"导入数据"按钮
3. 选择之前导出的JSON文件
4. 确认导入

## ⚡ 快速提示

- **数据迁移无缝** - 更改存储类型时数据会自动迁移
- **双重保护** - 自动备份提供额外的数据安全保障
- **即时生效** - 所有设置更改立即生效
- **状态显示** - 高级设置中可查看当前系统状态

现在您可以根据需要灵活选择数据存储方式！🎉
